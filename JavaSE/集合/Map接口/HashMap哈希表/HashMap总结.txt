
HashMap底层机制及源码剖析

1) Hash Map底层维护了Node类型的数组tabe,默认为null
2)当创建对象时,将加载因子( loadfactor)初始化为075
3)当添加key-va时,通过key的哈希值得到在 table的索引。然后判断该索引处是否有元素,如果没有元素直接添加。如果该索引处有元素,继续判断该元素的key和准备加入的key相是否等,如果相等,则直接替换va;如果不相等需要判断是树结构还是链表结构,做出相应处理。如果添加时发现容量不够,则需要扩容。
4)第1次添加,则需要扩容 table容量为16,临界值( threshold)为12(16*0.75)
5)以后再扩容,则需要扩容 table容量为原来的2倍(32),临界值为原来的2倍即24依次类推
6)在tab[]中如果条链表的元素个数超过默认值(8)并且tab[]的容量>64时,此链表会自动转换红黑树
